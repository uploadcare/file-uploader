<!DOCTYPE html>
<base href="../../" />

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./blocks/themes/lr-basic/index.css">
  <script
    async=""
    src="https://cdn.skypack.dev/-/es-module-shims@v1.5.8-O0uWfhbenfjMbv6D3d8E/dist=es2020,mode=raw,min/dist/es-module-shims.js"
  ></script>
  <script type="importmap">
    {
      "imports": {
        "@symbiotejs/symbiote": "./node_modules/@symbiotejs/symbiote/build/symbiote.js",
        "@uploadcare/upload-client": "./node_modules/@uploadcare/upload-client/dist/esm/index.browser.mjs",
        "@uploadcare/image-shrink": "./node_modules/@uploadcare/image-shrink/dist/esm/index.browser.mjs"
      }
    }
  </script>
  <script type="module">
    import * as LR from './index.js';

    LR.registerBlocks(LR);

    const form = document.querySelector('form');
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      console.log('SUBMIT', [...new FormData(e.target).entries()]);
    });
  </script>
</head>

<lr-config ctx-name="my-uploader" pubkey="demopublickey" multiple-min="1" multiple-max="10" img-only></lr-config>

<form>
  <lr-file-uploader-regular style="position: relative; display: inline-block;" ctx-name="my-uploader">
    <lr-form-input
      style="position: absolute; bottom: 0px; left: 50%; pointer-events: none;"
      ctx-name="my-uploader"
    ></lr-form-input>
  </lr-file-uploader-regular>
  <br />
  <br />
  <button type="submit">Submit</button>
</form>
