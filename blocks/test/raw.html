<base href="../../" />

<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  @import url(./blocks/themes/uc-basic/index.css);
  .uc-wgt-common {
    --ctx-name: 'my-uploader';
    --cfg-pubkey: 'demopublickey';
    --cfg-multiple-min: 0;
    --cfg-multiple-max: 3;
    --cfg-preview-proxy: 'http://localhost:3000/preview/?url={{cdnUrl}}&size={{fileInfo.size}}';
  }
</style>
<script src="./index.js" type="module"></script>
<script type="module">
  import * as UC from './index.js';
  UC.registerBlocks(UC);

  // let configuration = document.querySelector('uc-configuration')
  // configuration.setPreviewUrlCallback((cdnUrl, fileInfo) => {
  //   return `http://localhost:3000/preview/?url=${encodeURIComponent(cdnUrl)}&size=${fileInfo.size}`
  // })
</script>

<uc-simple-btn class="uc-wgt-common"></uc-simple-btn>

<uc-modal strokes class="uc-wgt-common">
  <uc-activity-icon slot="heading"></uc-activity-icon>
  <uc-activity-caption slot="heading"></uc-activity-caption>
  <uc-start-from>
    <uc-source-list wrap></uc-source-list>
    <uc-drop-area></uc-drop-area>
  </uc-start-from>
  <uc-upload-list></uc-upload-list>
  <uc-camera-source></uc-camera-source>
  <uc-url-source></uc-url-source>
  <uc-external-source></uc-external-source>
  <uc-upload-details></uc-upload-details>
  <uc-confirmation-dialog></uc-confirmation-dialog>
  <uc-cloud-image-editor></uc-cloud-image-editor>
</uc-modal>

<uc-message-box class="uc-wgt-common"></uc-message-box>
<uc-progress-bar-common class="uc-wgt-common"></uc-progress-bar-common>
<uc-configuration class="uc-wgt-common"></uc-configuration>

<uc-data-output
  console
  fire-event
  from="*outputData"
  item-template="<img height='200' src='https://ucarecdn.com/{{uuid}}/-/preview/' />"
  class="uc-wgt-common"
></uc-data-output>
